# Detailed File Explanations for model execution:

This document explains all of the files and folders used for getting data for, processing data, running simulations, then displaying and saving results of models.

Files purely for documentation or creating the python environment are not included here.

## Directory Structure

allfed-integrated-model
- subdirectories:
     data/

        All the tabulated data used for the repository, as well as intermediary 
        processed results from import scripts. Also contains data explaining 
        assumptions of the model in the Supplemental_Data.xlsx file. 

     results/

        Outputs of the model including figures and pptx generated reports.

     scripts/

        Convenient scripts used to run sets of python scripts.

     src/

        All of the code used to model the food system and to run simulations.

./data:

- subdirectories:

    no_food_trade/

- files:

    no_resilient_food_primary_results.npy
    resilient_food_primary_results.npy

        These are used for plotting from src/scenarios/plot_primary_food.py.


    Supplemental_Data.xlsx

        This is part of the raw data imported in the case of Nutrition, or 
        used directly for estimating the performance of crop relocation or expected 
        diet availability, as well as crop seasonality. 
        The spreadsheet contains the following tabs: 
            Summary of field margins
            Cost modelling
            Diet affordability
            Crop years
            Production & stocks seasonality
            Crop Model Results
            Crop Model ASRS Relocation Estimate
            Crop Model No Relocation
            Crop Model 2005
            Production 2005
            Production 2005 Raw
            Nutrition


./data/no_food_trade:

- subdirectories:

    processed_data/

        All of the CSV files in this folder are generated by running the 
        scripts/run_all_imports.sh file. They contain data in standard format for each
        country on values of interest for the food system models (for no food trade
        scenarios).

    raw_data/

        All data files used for each country in the no food trade scenarios, directly 
        from the data source (before processing to make standard format).
        Processing of these files happens using the import files in 
        /src/import_scripts_no_food_trade/ directory, which can in turn be called all 
        at once using the scripts/run_all_imports.sh script.

- files:

    computer_readable_combined.csv
    
        The ultimate result from running all the import scripts in 
        src/import_scripts_no_food_trade, (also accomplished 
        using scripts/run_all_scripts.py). In particular, the 
        src/import_scripts_no_food_trade/import_food_data.py file creates this by 
        merging the csvs into a dataframe then exporting the result to this csv.

./data/no_food_trade/raw_data:

- files:

    FAOSTAT_*_.CSV

        Data files imported directly from FAOSTAT for the year in question.

    Integrated Model With No Food Trade.xlsx

        The spreadsheet is used as a remaining set of data pertaining to no food trade
        scenarios, which is imported in addition to raw FAOSTAT data to create the 
        final computer_readable_code.csv file.
        Contains the following tabs:
            Population
            Food waste
            Outdoor crop Production Seasonality
            Outdoor Crop Production Baseline
            Outdoor Crop Production NW
            Food Stocks
            Seafood - excluding seaweeds
            Grazing
            Seaweed
            Cellulosic Sugar
            Greenhouses
            Methane SCP
            Combined

    rutgers_nw_production_raw.csv

        Raw data provided by the Rutgers Toon group from Xia et al publication
        regarding grasses and staple crops (spring wheat, maize, soybean, rice) 
        fractional crop yields to baseline in a 150 tg nuclear winter scenario.
./results:

- subdirectories:
    
    large_reports/

        Reports generated with the 

- files:

    *.fig

        Figures produced by running some src/scenarios/ files. The last stage of
        figure generation (plotting itself) always occurs in the
        src/utilities/plotter.py file.

