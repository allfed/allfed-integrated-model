<mxfile host="app.diagrams.net" modified="2023-11-14T20:41:30.281Z" agent="Mozilla/5.0 (X11; Linux x86_64; rv:91.0) Gecko/20100101 Firefox/91.0" etag="Lr7U3THxc0wrD7gj0GBM" version="22.1.1" type="github">
  <diagram name="Page-1" id="jVV0RAuZTFDPRcbFIyok">
    <mxGraphModel dx="1021" dy="537" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2336" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-35" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="1242" width="660" height="418" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-36" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="590" y="1000" width="530" height="198" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-37" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="560" y="1676" width="660" height="604" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-43" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1200" y="950" width="310" height="280" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-51" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="520" width="370" height="364" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="iWHlyYUsSo8P8iGn-lNc-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1240" y="1105" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;otherwise&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="iWHlyYUsSo8P8iGn-lNc-1" target="iWHlyYUsSo8P8iGn-lNc-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="896.25" y="1436.4" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-1" value="" style="triangle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="828" y="1040" width="138.5" height="130" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Zero food goes to animals or biofuels.&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Run one more &quot;smoothing&quot; &lt;br&gt;optimization to reduce variation in food usage if possible, and finally &lt;br&gt;returns the percent humans fed and allocations over time to the &lt;br&gt;interpreter.&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="1000" width="200" height="210" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="iWHlyYUsSo8P8iGn-lNc-29" target="iWHlyYUsSo8P8iGn-lNc-14">
          <mxGeometry x="0.0732" y="254" relative="1" as="geometry">
            <mxPoint x="890" y="1580" as="sourcePoint" />
            <mxPoint x="896.4999999999995" y="1700" as="targetPoint" />
            <Array as="points" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="iWHlyYUsSo8P8iGn-lNc-5" target="iWHlyYUsSo8P8iGn-lNc-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;In this case humans are not starving, (OR they are, but there&#39;s still feed available). Run the animal feed model again, allowing animals the excess feed after humans consume their minimum requirement&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="796.25" y="1302" width="200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="iWHlyYUsSo8P8iGn-lNc-12" target="iWHlyYUsSo8P8iGn-lNc-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Run a first optimization to see how many people could be fed from just the meat from animals (that are fed no animal feed) and the input food with no feed used. This first optimization finds the minimum starvation if we don&#39;t care about prioritizing outdoor crops and stored food to humans. &lt;br&gt;&lt;br&gt;Run a second optimization. The second optimization enforces the same starvation level, but tries to maximize outdoor crops and stored food going to humans rather than animals.&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="796.25" y="540" width="200" height="330" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="iWHlyYUsSo8P8iGn-lNc-14" target="iWHlyYUsSo8P8iGn-lNc-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Run a third optimization, using the new values for feed to humans and to animals determined above&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;. This third&lt;br&gt; optimization finds the minimum starvation if we don&#39;t care about &lt;br&gt;prioritizing outdoor crops and stored food to humans. &lt;br&gt;&lt;br&gt;Run a fourth optimization. The fourth &lt;br&gt;optimization enforces the same minimum as the third optimization, but tries to maximize outdoor &lt;br&gt;crops and stored food going to humans rather than animals while leaving same levels of food to humans.&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="796.25" y="1684" width="200" height="352" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="iWHlyYUsSo8P8iGn-lNc-15" target="iWHlyYUsSo8P8iGn-lNc-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-15" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Run the animal feed model with no human-edible feed inputs.&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="796" y="360" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="iWHlyYUsSo8P8iGn-lNc-18">
          <mxGeometry x="1" y="-12" relative="1" as="geometry">
            <mxPoint x="1590" y="2163" as="targetPoint" />
            <mxPoint x="10" y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-34" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;on to the interpeter, validator, and plotter&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="iWHlyYUsSo8P8iGn-lNc-33">
          <mxGeometry x="-0.026" y="-1" relative="1" as="geometry">
            <mxPoint x="144" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-18" value="R&lt;font style=&quot;font-size: 14px;&quot;&gt;un one more &quot;smoothing&quot; optimization to reduce variation in food usage if possible, and finally returns the percent humans fed and allocations over time to the interpreter.&lt;br&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="796.25" y="2098" width="200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-20" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;If humans are starving even with no feed going to animals or biofuels&lt;br&gt;AND&lt;br&gt; there is no remaining food available to feed animals (such as &amp;gt;200 kcals/day of seaweed)&lt;br&gt;&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="648" y="1038" width="168" height="100" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-29" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;If any food is left after human minimum needs and animals consume the human edible feed, biofuel demand is attempted to be satisfied.&lt;/font&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt; Food unused as animal feed or biofuel goes back to humans in the form of overconsumption beyond minimum dietary requirements&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="796.25" y="1460" width="200" height="180" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-39" value="OPTIMIZER.PY" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1700" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-41" value="PARAMETERS.PY" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1050" y="1260" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-42" value="RUN_SCENARIO.PY" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="996" y="1008" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-44" value="OPTIMIZER.PY" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1350" y="960" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-49" value="" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;fillColor=none;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="670" y="330" width="500" height="170" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-50" value="PARAMETERS.PY" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1080" y="348" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-52" value="OPTIMIZER.PY" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1050" y="530" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-53" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="284" y="560" as="sourcePoint" />
            <mxPoint x="284" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-56" value="" style="endArrow=none;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="284" y="520" as="sourcePoint" />
            <mxPoint x="554" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-57" value="" style="endArrow=none;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="284" y="483" as="sourcePoint" />
            <mxPoint x="554" y="483" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-58" value="human minimum needs" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="106" y="505" width="176" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-59" value="animal feed" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="149" y="470" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-60" value="biofuel" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="164" y="430" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-61" value="" style="endArrow=none;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="284" y="444.64" as="sourcePoint" />
            <mxPoint x="554" y="444.64" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-62" value="human overconsumption" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="110" y="390" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-63" value="" style="endArrow=none;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="284" y="559" as="sourcePoint" />
            <mxPoint x="554" y="559" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-64" value="0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="224" y="544" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-65" value="Priority of fulfilling types of demand in the model:&lt;br&gt;- Higher up is lower priority.&lt;br&gt;&lt;div&gt;- Meeting human minimum needs is first priority.&lt;/div&gt;&lt;div&gt;- Meeting animal feed demand is next priority.&lt;br&gt;&lt;/div&gt;- Human overconsumption is not considered limited to any caloric value in the model currently." style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="170" y="270" width="310" height="100" as="geometry" />
        </mxCell>
        <mxCell id="iWHlyYUsSo8P8iGn-lNc-66" value="This is an attempt at a simple model. There are lots of ways to improve realism here at the cost of complexity.&lt;br&gt;&lt;br&gt;&lt;div&gt;For example, it may be the case that biofuel may lead to animal or even human starvation if it&#39;s not shut off in the first month or two. (The next step in improved accuracy may be to enforce a certain delay in biofuel shutoff as long as it doesn&#39;t reduce animal starvation by X% or human starvation by Y%, and a similiar delay in feed, as long as it doesn&#39;t reduce human starvation by Z%, rather than completely ignoring biofuel delays in shutoff if they cause starvation in higher priority demand types.)&lt;/div&gt;&lt;br&gt;&lt;div&gt;Human overconsumption obviously has its limits. Realistically, in a case with disrupted trade, countries with excess are likely to trade their excess away after a certain amount of human overconsumption occurs. Trade may even take the place of biofuel or animal feed. (In the great chinese famine, trade  place even when available food in China was below human minimum needs).&lt;br&gt;&lt;br&gt;Another improvement may be that N kcals of human overconsumption may be prioritized over animal feed if more than M% of calories are met by meat in the model.&amp;nbsp; &lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;Fat and protein requirements may be prioritized lower than kcal requirements in the model. So it may make sense to add a coefficient on the fat or protein, where the fat or protein demand is a function of the amount of kcals that are available. So 50% of kcals may imply only10% minimum fat or protein is constraining, whereas 90% kcals may imply, say, 40% minimum fat or protein is constraining. When people are starving, it&#39;s more important to maximize calories than nutrition of the food itself, if there is such a tradeoff.&lt;br&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="170" y="583" width="210" height="740" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
