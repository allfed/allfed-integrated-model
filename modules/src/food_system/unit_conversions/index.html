<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../../../img/favicon.ico">
  <title>Unit conversions - ALLFED Integrated Model</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../../../css/theme.css" />
  <link rel="stylesheet" href="../../../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Unit conversions";
    var mkdocs_page_input_path = "modules/src/food_system/unit_conversions.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../../../.." class="icon icon-home"> ALLFED Integrated Model</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../../..">ALLFED Integrated Food System Model</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Modules</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="#">Src</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Food system</a>
    <ul class="current">
                <li class="toctree-l3"><a class="reference internal" href="../animal_populations/">Animal populations</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../cellulosic_sugar/">Cellulosic sugar</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../feed_and_biofuels/">Feed and biofuels</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../food/">Food</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../greenhouses/">Greenhouses</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../meat_and_dairy/">Meat and dairy</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../methane_scp/">Methane scp</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../outdoor_crops/">Outdoor crops</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../seafood/">Seafood</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../seaweed/">Seaweed</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../stored_food/">Stored food</a>
                </li>
                <li class="toctree-l3 current"><a class="reference internal current" href="./">Unit conversions</a>
    <ul class="current">
    <li class="toctree-l4"><a class="reference internal" href="#unitconversions">UnitConversions</a>
    </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Import scripts no food trade</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../import_scripts_no_food_trade/create_crop_macros_csv/">Create crop macros csv</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../import_scripts_no_food_trade/create_nuclear_winter_csv/">Create nuclear winter csv</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Optimizer</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../optimizer/extract_results/">Extract results</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../optimizer/interpret_results/">Interpret results</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../optimizer/optimizer/">Optimizer</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../optimizer/parameters/">Parameters</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../optimizer/validate_results/">Validate results</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Scenarios</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../scenarios/run_model_no_trade/">Run model no trade</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../scenarios/run_scenario/">Run scenario</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../scenarios/run_scenarios_from_yaml/">Run scenarios from yaml</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../scenarios/scenarios/">Scenarios</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Utilities</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../utilities/constants/">Constants</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../utilities/import_utilities/">Import utilities</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../utilities/make_powerpoint/">Make powerpoint</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../utilities/plotter/">Plotter</a>
                </li>
    </ul>
                </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../..">ALLFED Integrated Model</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Modules &raquo;</li>
        
      
        
          <li>Src &raquo;</li>
        
      
        
          <li>Food system &raquo;</li>
        
      
    
    <li>Unit conversions</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="_1"></h1>
<h2 id="unitconversions">UnitConversions</h2>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L25">source</a></p>
<pre><code class="language-python">
</code></pre>
<hr />
<p>This class is used to convert units of nutrients</p>
<p><strong>Methods:</strong></p>
<h3 id="set_nutrition_requirements">.set_nutrition_requirements</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L35">source</a></p>
<pre><code class="language-python">.set_nutrition_requirements(
   kcals_daily, fat_daily, protein_daily, include_fat, include_protein,
   population
)
</code></pre>
<hr />
<p>Returns the macronutrients of the food.</p>
<p>This is a bit of a confusing function.</p>
<p>It is normally run from a UnitConversions class in the Food child class</p>
<p>that Food class contains one UnitConversions object which has had its nutrients
assigned.</p>
<p>Then, because this is the parent class, all the functions are inherited.</p>
<p>So, running get_conversions() (the class function to get the conversions object
in the child food class), this will obtain all the conversion data instantiated
through the Food class.</p>
<h3 id="get_units_from_list_to_total">.get_units_from_list_to_total</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L92">source</a></p>
<pre><code class="language-python">.get_units_from_list_to_total()
</code></pre>
<hr />
<p>gets the units so that they reflect that of a single month</p>
<h3 id="set_units_from_list_to_total">.set_units_from_list_to_total</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L112">source</a></p>
<pre><code class="language-python">.set_units_from_list_to_total()
</code></pre>
<hr />
<p>sets the units so that they reflect that of a single month</p>
<h3 id="get_units_from_list_to_element">.get_units_from_list_to_element</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L129">source</a></p>
<pre><code class="language-python">.get_units_from_list_to_element()
</code></pre>
<hr />
<p>gets the units so that they reflect that of a single month</p>
<h3 id="set_units_from_list_to_element">.set_units_from_list_to_element</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L149">source</a></p>
<pre><code class="language-python">.set_units_from_list_to_element()
</code></pre>
<hr />
<p>sets the units so that they reflect that of a single month</p>
<h3 id="get_units_from_element_to_list">.get_units_from_element_to_list</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L163">source</a></p>
<pre><code class="language-python">.get_units_from_element_to_list()
</code></pre>
<hr />
<p>gets the units so that they reflect that of a list of months</p>
<h3 id="set_units_from_element_to_list">.set_units_from_element_to_list</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L182">source</a></p>
<pre><code class="language-python">.set_units_from_element_to_list()
</code></pre>
<hr />
<p>sets the units so that they reflect that of a list of months</p>
<h3 id="get_units">.get_units</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L195">source</a></p>
<pre><code class="language-python">.get_units()
</code></pre>
<hr />
<p>update and return the unit values as a 3 element array</p>
<h3 id="set_units">.set_units</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L202">source</a></p>
<pre><code class="language-python">.set_units(
   kcals_units, fat_units, protein_units
)
</code></pre>
<hr />
<p>Sets the units of the food (for example, billion_kcals,thousand_tons, dry
caloric tons, kcals/person/day, or percent of global food supply).
default units are billion kcals, thousand tons fat, thousand tons protein
For convenience and as a memory tool, set the units, and make sure that whenever
an operation on a different food is used, the units are compatible</p>
<h3 id="print_units">.print_units</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L220">source</a></p>
<pre><code class="language-python">.print_units()
</code></pre>
<hr />
<p>Prints the units of the nutrients</p>
<h3 id="is_a_ratio">.is_a_ratio</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L230">source</a></p>
<pre><code class="language-python">.is_a_ratio()
</code></pre>
<hr />
<p>Returns if units are all "ratio" type</p>
<h3 id="is_units_percent">.is_units_percent</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L244">source</a></p>
<pre><code class="language-python">.is_units_percent()
</code></pre>
<hr />
<p>Returns if units are all "percent" type</p>
<h3 id="in_units_kcals_grams_grams_per_person_from_ratio">.in_units_kcals_grams_grams_per_person_from_ratio</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L259">source</a></p>
<pre><code class="language-python">.in_units_kcals_grams_grams_per_person_from_ratio(
   kcal_ratio, fat_ratio, protein_ratio
)
</code></pre>
<hr />
<p>If the existing units are understood by this function, it tries to convert the
values and units to kcals per person per day, grams per pseron per day, kcals
per person per day.
arguments:
kcal ratio (float): kcal  per kg of the food being converted
fat ratio (float): grams per kcal of the food being converted
kcal ratio (float): grams per kcal of the food being converted</p>
<h3 id="in_units_billions_fed">.in_units_billions_fed</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L327">source</a></p>
<pre><code class="language-python">.in_units_billions_fed()
</code></pre>
<h3 id="in_units_percent_fed">.in_units_percent_fed</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L332">source</a></p>
<pre><code class="language-python">.in_units_percent_fed()
</code></pre>
<h3 id="in_units_kcals_equivalent">.in_units_kcals_equivalent</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L337">source</a></p>
<pre><code class="language-python">.in_units_kcals_equivalent()
</code></pre>
<h3 id="in_units_kcals_grams_grams_per_person">.in_units_kcals_grams_grams_per_person</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L344">source</a></p>
<pre><code class="language-python">.in_units_kcals_grams_grams_per_person()
</code></pre>
<h3 id="in_units_bil_kcals_thou_tons_thou_tons_per_month">.in_units_bil_kcals_thou_tons_thou_tons_per_month</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L351">source</a></p>
<pre><code class="language-python">.in_units_bil_kcals_thou_tons_thou_tons_per_month()
</code></pre>
<h3 id="get_kcal_multipliers">.get_kcal_multipliers</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L358">source</a></p>
<pre><code class="language-python">.get_kcal_multipliers()
</code></pre>
<hr />
<p>This function returns a dictionary, where the value is the multiplier on kcals required to convert from the
units "billion kcals each month" (or equivalently "billion kcals per month") to whatever unit is specified as
the key.</p>
<p>Therefore, multiplying kcals by this dictionary value is applying the unit multiplication: [key units] / [
billion kcals (each,per) month]</p>
<h3 id="get_fat_multipliers">.get_fat_multipliers</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L400">source</a></p>
<pre><code class="language-python">.get_fat_multipliers()
</code></pre>
<h3 id="get_protein_multipliers">.get_protein_multipliers</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L437">source</a></p>
<pre><code class="language-python">.get_protein_multipliers()
</code></pre>
<h3 id="get_unit_multipliers_from_billion_kcals_thou_tons_thou_tons">.get_unit_multipliers_from_billion_kcals_thou_tons_thou_tons</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L474">source</a></p>
<pre><code class="language-python">.get_unit_multipliers_from_billion_kcals_thou_tons_thou_tons(
   units
)
</code></pre>
<hr />
<p>First, check if the unit is a known conversion.</p>
<p>Then, returns the conversion value to get from billion kcals, thousand tons fat, thousand tons protein, to
whatever units are specified in "units" triplet argument. units[0] is kcals units, units[1] is fat units,
units[2] is protein units.</p>
<h3 id="get_conversion">.get_conversion</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L507">source</a></p>
<pre><code class="language-python">.get_conversion(
   from_units, to_units_kcals, to_units_fat, to_units_protein
)
</code></pre>
<hr />
<p>To get from any known unit to any other known unit, we first convert the given from_units to the equivalent
billion kcals, thousand tons fat, thousand tons protein, by dividing the given value by the unit_multiplier
dictionary value. We then convert back to the to_units by multiplying by the to_unit dictionary value.</p>
<h3 id="in_units">.in_units</h3>
<p><a href="https://github.com/allfed/allfed-integrated-model/blob/master/src/food_system/unit_conversions.py/#L532">source</a></p>
<pre><code class="language-python">.in_units(
   to_units_kcals, to_units_fat, to_units_protein
)
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../import_scripts_no_food_trade/create_crop_macros_csv/" class="btn btn-neutral float-right" title="Create crop macros csv">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../stored_food/" class="btn btn-neutral" title="Stored food"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Me</p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../stored_food/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../import_scripts_no_food_trade/create_crop_macros_csv/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../../../..';</script>
    <script src="../../../../js/theme_extra.js" defer></script>
    <script src="../../../../js/theme.js" defer></script>
      <script src="../../../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
